<?php

declare(strict_types=1);

namespace DoctrineMigrations;

use Doctrine\DBAL\Schema\Schema;
use Doctrine\Migrations\AbstractMigration;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20260108161535 extends AbstractMigration
{
    public function getDescription(): string
    {
        return '';
    }

    public function up(Schema $schema): void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->addSql('CREATE TABLE agencies (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(255) NOT NULL, name_ar VARCHAR(255) DEFAULT NULL, rc_number VARCHAR(50) DEFAULT NULL, ice_number VARCHAR(15) DEFAULT NULL, patent_number VARCHAR(50) DEFAULT NULL, address TEXT DEFAULT NULL, address_ar TEXT DEFAULT NULL, city VARCHAR(100) DEFAULT NULL, city_ar VARCHAR(100) DEFAULT NULL, postal_code VARCHAR(10) DEFAULT NULL, country VARCHAR(100) NOT NULL, description TEXT DEFAULT NULL, description_ar TEXT DEFAULT NULL, logo VARCHAR(500) DEFAULT NULL, website VARCHAR(500) DEFAULT NULL, facebook VARCHAR(500) DEFAULT NULL, instagram VARCHAR(500) DEFAULT NULL, verification_status VARCHAR(255) NOT NULL, verification_document VARCHAR(500) DEFAULT NULL, agency_type VARCHAR(255) NOT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, phone_number VARCHAR(255) NOT NULL, users_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_F65A4DC467B3B43D ON agencies (users_id)');
        $this->addSql('CREATE TABLE agency_agents (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, role VARCHAR(255) NOT NULL, is_primary_contact BOOLEAN DEFAULT false NOT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, agency_id INT NOT NULL, user_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_494E6A2ECDEADB2A ON agency_agents (agency_id)');
        $this->addSql('CREATE INDEX IDX_494E6A2EA76ED395 ON agency_agents (user_id)');
        $this->addSql('CREATE TABLE agency_statistics (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, date DATE NOT NULL, total_listings INT DEFAULT 0 NOT NULL, active_listings INT DEFAULT 0 NOT NULL, total_views INT DEFAULT 0 NOT NULL, total_contacts INT DEFAULT 0 NOT NULL, avg_listing_price NUMERIC(12, 2) DEFAULT 0 NOT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, agency_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_2F2EFE80CDEADB2A ON agency_statistics (agency_id)');
        $this->addSql('CREATE UNIQUE INDEX unique_agency_date ON agency_statistics (agency_id, date)');
        $this->addSql('CREATE TABLE agency_subscriptions (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, status VARCHAR(255) NOT NULL, billing_period VARCHAR(255) NOT NULL, current_period_start TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, current_period_end TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, auto_renew BOOLEAN DEFAULT true NOT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, agency_id INT NOT NULL, plan_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_4FCF00D0CDEADB2A ON agency_subscriptions (agency_id)');
        $this->addSql('CREATE INDEX IDX_4FCF00D0E899029B ON agency_subscriptions (plan_id)');
        $this->addSql('CREATE TABLE category (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(255) NOT NULL, slug VARCHAR(255) NOT NULL, parent_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_64C19C1989D9B62 ON category (slug)');
        $this->addSql('CREATE INDEX IDX_64C19C1727ACA70 ON category (parent_id)');
        $this->addSql('CREATE TABLE email_templates (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, template_key VARCHAR(100) NOT NULL, subject VARCHAR(255) NOT NULL, body_html TEXT NOT NULL, body_text TEXT DEFAULT NULL, variables JSON DEFAULT NULL, is_active BOOLEAN DEFAULT true NOT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_6023E2A524FB228B ON email_templates (template_key)');
        $this->addSql('CREATE TABLE favorites (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, notes TEXT DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, user_id INT NOT NULL, property_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_E46960F5A76ED395 ON favorites (user_id)');
        $this->addSql('CREATE INDEX IDX_E46960F5549213EC ON favorites (property_id)');
        $this->addSql('CREATE UNIQUE INDEX unique_favorite ON favorites (user_id, property_id)');
        $this->addSql('CREATE TABLE flagged_content (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, target_type VARCHAR(255) NOT NULL, target_id INT NOT NULL, reason VARCHAR(255) NOT NULL, description TEXT DEFAULT NULL, status VARCHAR(255) DEFAULT \'pending\' NOT NULL, reviewed_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, reporter_id INT DEFAULT NULL, reviewed_by_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_3E919834E1CFE6F5 ON flagged_content (reporter_id)');
        $this->addSql('CREATE INDEX IDX_3E919834FC6B21F1 ON flagged_content (reviewed_by_id)');
        $this->addSql('CREATE TABLE invoices (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, invoice_number VARCHAR(50) NOT NULL, amount NUMERIC(10, 2) NOT NULL, tax_amount NUMERIC(10, 2) DEFAULT 0 NOT NULL, total_amount NUMERIC(10, 2) NOT NULL, pdf_url VARCHAR(500) DEFAULT NULL, status VARCHAR(255) NOT NULL, due_date DATE DEFAULT NULL, paid_date DATE DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, agency_id INT NOT NULL, subscription_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_6A2F2F952DA68207 ON invoices (invoice_number)');
        $this->addSql('CREATE INDEX IDX_6A2F2F95CDEADB2A ON invoices (agency_id)');
        $this->addSql('CREATE INDEX IDX_6A2F2F959A1887DC ON invoices (subscription_id)');
        $this->addSql('CREATE TABLE messages (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, subject VARCHAR(255) DEFAULT NULL, message TEXT NOT NULL, is_read BOOLEAN DEFAULT false NOT NULL, read_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, sender_id INT NOT NULL, receiver_id INT NOT NULL, property_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_DB021E96F624B39D ON messages (sender_id)');
        $this->addSql('CREATE INDEX IDX_DB021E96CD53EDB6 ON messages (receiver_id)');
        $this->addSql('CREATE INDEX IDX_DB021E96549213EC ON messages (property_id)');
        $this->addSql('CREATE TABLE moderation_actions (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, target_type VARCHAR(255) NOT NULL, target_id INT NOT NULL, action VARCHAR(255) NOT NULL, reason TEXT DEFAULT NULL, notes TEXT DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, moderator_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_2E0B3A70D0AFA354 ON moderation_actions (moderator_id)');
        $this->addSql('CREATE TABLE payments (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, amount NUMERIC(10, 2) NOT NULL, currency VARCHAR(3) DEFAULT \'EUR\' NOT NULL, payment_method VARCHAR(255) NOT NULL, status VARCHAR(255) NOT NULL, stripe_payment_intent_id VARCHAR(255) DEFAULT NULL, invoice_url VARCHAR(500) DEFAULT NULL, paid_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, subscription_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_65D29B329A1887DC ON payments (subscription_id)');
        $this->addSql('CREATE TABLE properties (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, reference VARCHAR(50) NOT NULL, title VARCHAR(255) NOT NULL, description TEXT NOT NULL, property_type VARCHAR(255) NOT NULL, transaction_type VARCHAR(255) NOT NULL, rooms INT DEFAULT NULL, bedrooms INT DEFAULT NULL, bathrooms INT DEFAULT NULL, toilets INT DEFAULT NULL, floor INT DEFAULT NULL, total_floors INT DEFAULT NULL, living_area NUMERIC(10, 2) DEFAULT NULL, land_area NUMERIC(10, 2) DEFAULT NULL, construction_year INT DEFAULT NULL, has_elevator BOOLEAN DEFAULT false NOT NULL, has_parking BOOLEAN DEFAULT false NOT NULL, has_terrace BOOLEAN DEFAULT false NOT NULL, has_balcony BOOLEAN DEFAULT false NOT NULL, has_garden BOOLEAN DEFAULT false NOT NULL, has_pool BOOLEAN DEFAULT false NOT NULL, has_cellar BOOLEAN DEFAULT false NOT NULL, has_air_conditioning BOOLEAN DEFAULT false NOT NULL, has_heating BOOLEAN DEFAULT false NOT NULL, energy_class VARCHAR(255) DEFAULT NULL, ges_class VARCHAR(255) DEFAULT NULL, price NUMERIC(12, 2) NOT NULL, price_per_sqm NUMERIC(10, 2) DEFAULT NULL, fees_included BOOLEAN DEFAULT false NOT NULL, charges_monthly NUMERIC(8, 2) DEFAULT NULL, property_tax_yearly NUMERIC(8, 2) DEFAULT NULL, address TEXT NOT NULL, city VARCHAR(100) NOT NULL, postal_code VARCHAR(10) NOT NULL, department VARCHAR(50) DEFAULT NULL, region VARCHAR(50) DEFAULT NULL, country VARCHAR(100) DEFAULT \'France\' NOT NULL, latitude NUMERIC(10, 8) DEFAULT NULL, longitude NUMERIC(11, 8) DEFAULT NULL, status VARCHAR(255) NOT NULL, is_featured BOOLEAN DEFAULT false NOT NULL, is_urgent BOOLEAN DEFAULT false NOT NULL, is_highlighted BOOLEAN DEFAULT false NOT NULL, view_count INT DEFAULT 0 NOT NULL, contact_count INT DEFAULT 0 NOT NULL, published_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, expires_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, agency_id INT NOT NULL, agent_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_87C331C7AEA34913 ON properties (reference)');
        $this->addSql('CREATE INDEX IDX_87C331C7CDEADB2A ON properties (agency_id)');
        $this->addSql('CREATE INDEX IDX_87C331C73414710B ON properties (agent_id)');
        $this->addSql('CREATE TABLE property_contacts (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, phone VARCHAR(20) DEFAULT NULL, message TEXT NOT NULL, contact_type VARCHAR(255) DEFAULT \'info_request\' NOT NULL, status VARCHAR(255) DEFAULT \'new\' NOT NULL, response_notes TEXT DEFAULT NULL, responded_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, property_id INT NOT NULL, user_id INT DEFAULT NULL, responded_by_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_6DC72137549213EC ON property_contacts (property_id)');
        $this->addSql('CREATE INDEX IDX_6DC72137A76ED395 ON property_contacts (user_id)');
        $this->addSql('CREATE INDEX IDX_6DC72137296135A7 ON property_contacts (responded_by_id)');
        $this->addSql('CREATE TABLE property_history (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, action_type VARCHAR(50) NOT NULL, changes JSON DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, property_id INT NOT NULL, user_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_7E773A33549213EC ON property_history (property_id)');
        $this->addSql('CREATE INDEX IDX_7E773A33A76ED395 ON property_history (user_id)');
        $this->addSql('CREATE TABLE property_media (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, media_type VARCHAR(255) NOT NULL, url VARCHAR(500) NOT NULL, thumbnail_url VARCHAR(500) DEFAULT NULL, position INT DEFAULT 0 NOT NULL, caption VARCHAR(255) DEFAULT NULL, is_main BOOLEAN DEFAULT false NOT NULL, storage_path VARCHAR(500) DEFAULT NULL, file_size INT DEFAULT NULL, mime_type VARCHAR(100) DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, property_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_AC3F6001549213EC ON property_media (property_id)');
        $this->addSql('CREATE TABLE property_views (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, ip_address VARCHAR(45) DEFAULT NULL, user_agent TEXT DEFAULT NULL, view_date DATE NOT NULL, view_time TIME(0) WITHOUT TIME ZONE NOT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, property_id INT NOT NULL, user_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_D7E35D8A549213EC ON property_views (property_id)');
        $this->addSql('CREATE INDEX IDX_D7E35D8AA76ED395 ON property_views (user_id)');
        $this->addSql('CREATE TABLE reset_password_request (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, selector VARCHAR(20) NOT NULL, hashed_token VARCHAR(100) NOT NULL, requested_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, expires_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, user_id INT NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_7CE748AA76ED395 ON reset_password_request (user_id)');
        $this->addSql('CREATE TABLE saved_searches (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(100) DEFAULT NULL, filters JSON NOT NULL, notification_frequency VARCHAR(255) DEFAULT \'daily\' NOT NULL, last_notified_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, user_id INT DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_EF93F31A76ED395 ON saved_searches (user_id)');
        $this->addSql('CREATE TABLE site_settings (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, setting_key VARCHAR(100) NOT NULL, setting_value TEXT DEFAULT NULL, setting_type VARCHAR(255) DEFAULT \'string\' NOT NULL, category VARCHAR(50) DEFAULT NULL, description TEXT DEFAULT NULL, is_public BOOLEAN DEFAULT false NOT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_E9081F1F5FA1E697 ON site_settings (setting_key)');
        $this->addSql('CREATE TABLE subscription_plans (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(100) NOT NULL, description TEXT DEFAULT NULL, price_monthly NUMERIC(10, 2) NOT NULL, price_yearly NUMERIC(10, 2) DEFAULT NULL, max_listings INT DEFAULT NULL, max_agents INT DEFAULT 1 NOT NULL, features JSON DEFAULT NULL, is_active BOOLEAN DEFAULT true NOT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE TABLE "user" (id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL, email VARCHAR(180) NOT NULL, roles JSON NOT NULL, password VARCHAR(255) NOT NULL, is_verified BOOLEAN NOT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_IDENTIFIER_EMAIL ON "user" (email)');
        $this->addSql('CREATE TABLE messenger_messages (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, body TEXT NOT NULL, headers TEXT NOT NULL, queue_name VARCHAR(190) NOT NULL, created_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, available_at TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, delivered_at TIMESTAMP(0) WITHOUT TIME ZONE DEFAULT NULL, PRIMARY KEY (id))');
        $this->addSql('CREATE INDEX IDX_75EA56E0FB7336F0E3BD61CE16BA31DBBF396750 ON messenger_messages (queue_name, available_at, delivered_at, id)');
        $this->addSql('ALTER TABLE agencies ADD CONSTRAINT FK_F65A4DC467B3B43D FOREIGN KEY (users_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE agency_agents ADD CONSTRAINT FK_494E6A2ECDEADB2A FOREIGN KEY (agency_id) REFERENCES agencies (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE agency_agents ADD CONSTRAINT FK_494E6A2EA76ED395 FOREIGN KEY (user_id) REFERENCES "user" (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE agency_statistics ADD CONSTRAINT FK_2F2EFE80CDEADB2A FOREIGN KEY (agency_id) REFERENCES agencies (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE agency_subscriptions ADD CONSTRAINT FK_4FCF00D0CDEADB2A FOREIGN KEY (agency_id) REFERENCES agencies (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE agency_subscriptions ADD CONSTRAINT FK_4FCF00D0E899029B FOREIGN KEY (plan_id) REFERENCES subscription_plans (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE category ADD CONSTRAINT FK_64C19C1727ACA70 FOREIGN KEY (parent_id) REFERENCES category (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE favorites ADD CONSTRAINT FK_E46960F5A76ED395 FOREIGN KEY (user_id) REFERENCES "user" (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE favorites ADD CONSTRAINT FK_E46960F5549213EC FOREIGN KEY (property_id) REFERENCES properties (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE flagged_content ADD CONSTRAINT FK_3E919834E1CFE6F5 FOREIGN KEY (reporter_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE flagged_content ADD CONSTRAINT FK_3E919834FC6B21F1 FOREIGN KEY (reviewed_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE invoices ADD CONSTRAINT FK_6A2F2F95CDEADB2A FOREIGN KEY (agency_id) REFERENCES agencies (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE invoices ADD CONSTRAINT FK_6A2F2F959A1887DC FOREIGN KEY (subscription_id) REFERENCES agency_subscriptions (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE messages ADD CONSTRAINT FK_DB021E96F624B39D FOREIGN KEY (sender_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE messages ADD CONSTRAINT FK_DB021E96CD53EDB6 FOREIGN KEY (receiver_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE messages ADD CONSTRAINT FK_DB021E96549213EC FOREIGN KEY (property_id) REFERENCES properties (id) ON DELETE SET NULL NOT DEFERRABLE');
        $this->addSql('ALTER TABLE moderation_actions ADD CONSTRAINT FK_2E0B3A70D0AFA354 FOREIGN KEY (moderator_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE payments ADD CONSTRAINT FK_65D29B329A1887DC FOREIGN KEY (subscription_id) REFERENCES agency_subscriptions (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE properties ADD CONSTRAINT FK_87C331C7CDEADB2A FOREIGN KEY (agency_id) REFERENCES agencies (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE properties ADD CONSTRAINT FK_87C331C73414710B FOREIGN KEY (agent_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE property_contacts ADD CONSTRAINT FK_6DC72137549213EC FOREIGN KEY (property_id) REFERENCES properties (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE property_contacts ADD CONSTRAINT FK_6DC72137A76ED395 FOREIGN KEY (user_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE property_contacts ADD CONSTRAINT FK_6DC72137296135A7 FOREIGN KEY (responded_by_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE property_history ADD CONSTRAINT FK_7E773A33549213EC FOREIGN KEY (property_id) REFERENCES properties (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE property_history ADD CONSTRAINT FK_7E773A33A76ED395 FOREIGN KEY (user_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE property_media ADD CONSTRAINT FK_AC3F6001549213EC FOREIGN KEY (property_id) REFERENCES properties (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE property_views ADD CONSTRAINT FK_D7E35D8A549213EC FOREIGN KEY (property_id) REFERENCES properties (id) ON DELETE CASCADE NOT DEFERRABLE');
        $this->addSql('ALTER TABLE property_views ADD CONSTRAINT FK_D7E35D8AA76ED395 FOREIGN KEY (user_id) REFERENCES "user" (id) ON DELETE SET NULL NOT DEFERRABLE');
        $this->addSql('ALTER TABLE reset_password_request ADD CONSTRAINT FK_7CE748AA76ED395 FOREIGN KEY (user_id) REFERENCES "user" (id) NOT DEFERRABLE');
        $this->addSql('ALTER TABLE saved_searches ADD CONSTRAINT FK_EF93F31A76ED395 FOREIGN KEY (user_id) REFERENCES "user" (id) ON DELETE CASCADE NOT DEFERRABLE');
    }

    public function down(Schema $schema): void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->addSql('ALTER TABLE agencies DROP CONSTRAINT FK_F65A4DC467B3B43D');
        $this->addSql('ALTER TABLE agency_agents DROP CONSTRAINT FK_494E6A2ECDEADB2A');
        $this->addSql('ALTER TABLE agency_agents DROP CONSTRAINT FK_494E6A2EA76ED395');
        $this->addSql('ALTER TABLE agency_statistics DROP CONSTRAINT FK_2F2EFE80CDEADB2A');
        $this->addSql('ALTER TABLE agency_subscriptions DROP CONSTRAINT FK_4FCF00D0CDEADB2A');
        $this->addSql('ALTER TABLE agency_subscriptions DROP CONSTRAINT FK_4FCF00D0E899029B');
        $this->addSql('ALTER TABLE category DROP CONSTRAINT FK_64C19C1727ACA70');
        $this->addSql('ALTER TABLE favorites DROP CONSTRAINT FK_E46960F5A76ED395');
        $this->addSql('ALTER TABLE favorites DROP CONSTRAINT FK_E46960F5549213EC');
        $this->addSql('ALTER TABLE flagged_content DROP CONSTRAINT FK_3E919834E1CFE6F5');
        $this->addSql('ALTER TABLE flagged_content DROP CONSTRAINT FK_3E919834FC6B21F1');
        $this->addSql('ALTER TABLE invoices DROP CONSTRAINT FK_6A2F2F95CDEADB2A');
        $this->addSql('ALTER TABLE invoices DROP CONSTRAINT FK_6A2F2F959A1887DC');
        $this->addSql('ALTER TABLE messages DROP CONSTRAINT FK_DB021E96F624B39D');
        $this->addSql('ALTER TABLE messages DROP CONSTRAINT FK_DB021E96CD53EDB6');
        $this->addSql('ALTER TABLE messages DROP CONSTRAINT FK_DB021E96549213EC');
        $this->addSql('ALTER TABLE moderation_actions DROP CONSTRAINT FK_2E0B3A70D0AFA354');
        $this->addSql('ALTER TABLE payments DROP CONSTRAINT FK_65D29B329A1887DC');
        $this->addSql('ALTER TABLE properties DROP CONSTRAINT FK_87C331C7CDEADB2A');
        $this->addSql('ALTER TABLE properties DROP CONSTRAINT FK_87C331C73414710B');
        $this->addSql('ALTER TABLE property_contacts DROP CONSTRAINT FK_6DC72137549213EC');
        $this->addSql('ALTER TABLE property_contacts DROP CONSTRAINT FK_6DC72137A76ED395');
        $this->addSql('ALTER TABLE property_contacts DROP CONSTRAINT FK_6DC72137296135A7');
        $this->addSql('ALTER TABLE property_history DROP CONSTRAINT FK_7E773A33549213EC');
        $this->addSql('ALTER TABLE property_history DROP CONSTRAINT FK_7E773A33A76ED395');
        $this->addSql('ALTER TABLE property_media DROP CONSTRAINT FK_AC3F6001549213EC');
        $this->addSql('ALTER TABLE property_views DROP CONSTRAINT FK_D7E35D8A549213EC');
        $this->addSql('ALTER TABLE property_views DROP CONSTRAINT FK_D7E35D8AA76ED395');
        $this->addSql('ALTER TABLE reset_password_request DROP CONSTRAINT FK_7CE748AA76ED395');
        $this->addSql('ALTER TABLE saved_searches DROP CONSTRAINT FK_EF93F31A76ED395');
        $this->addSql('DROP TABLE agencies');
        $this->addSql('DROP TABLE agency_agents');
        $this->addSql('DROP TABLE agency_statistics');
        $this->addSql('DROP TABLE agency_subscriptions');
        $this->addSql('DROP TABLE category');
        $this->addSql('DROP TABLE email_templates');
        $this->addSql('DROP TABLE favorites');
        $this->addSql('DROP TABLE flagged_content');
        $this->addSql('DROP TABLE invoices');
        $this->addSql('DROP TABLE messages');
        $this->addSql('DROP TABLE moderation_actions');
        $this->addSql('DROP TABLE payments');
        $this->addSql('DROP TABLE properties');
        $this->addSql('DROP TABLE property_contacts');
        $this->addSql('DROP TABLE property_history');
        $this->addSql('DROP TABLE property_media');
        $this->addSql('DROP TABLE property_views');
        $this->addSql('DROP TABLE reset_password_request');
        $this->addSql('DROP TABLE saved_searches');
        $this->addSql('DROP TABLE site_settings');
        $this->addSql('DROP TABLE subscription_plans');
        $this->addSql('DROP TABLE "user"');
        $this->addSql('DROP TABLE messenger_messages');
    }
}
